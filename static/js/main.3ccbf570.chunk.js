(this["webpackJsonpchat-firebase"]=this["webpackJsonpchat-firebase"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var i=n(2),c=n.n(i),r=n(20),s=n.n(r),a=(n(48),n(22)),o=(n(49),n(31)),d=n.n(o),u=n(34),l=n(19),j=n(76),p=n(75),f=n(5),h=function(e){var t=e.scroll,n=Object(i.useState)(""),c=Object(a.a)(n,2),r=c[0],s=c[1];function o(){return(o=Object(u.a)(d.a.mark((function e(n){var i,c,a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=null===(i=m.currentUser)||void 0===i?void 0:i.uid,o=null===(c=m.currentUser)||void 0===c?void 0:c.photoURL,console.log(m),e.next=6,O.collection("messages").add({text:r,photoURL:o,uid:a,createdAt:l.a.firestore.FieldValue.serverTimestamp()});case 6:s(""),t.current.scrollIntoView({behavior:"smooth"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)("div",{children:Object(f.jsx)("form",{onSubmit:function(e){return o.apply(this,arguments)},children:Object(f.jsxs)("div",{className:"sendMsg",children:[Object(f.jsx)(j.a,{style:{width:"78%",fontSize:"15px",marginLeft:"5px",marginBottom:"-3px"},placeholder:"Message...",type:"text",value:r,onChange:function(e){return s(e.target.value)}}),Object(f.jsx)(p.a,{style:{width:"18%",fontSize:"15px",margin:"4px 5% -13px 5%",maxWidth:"200px"},type:"submit",children:"Send"})]})})})};var b=function(){return Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"fixed",width:"100%",backgroundColor:"#FAFAFA",top:0,borderBottom:"solid 1px lightgray"},children:Object(f.jsx)(p.a,{style:{padding:"20px",fontSize:"15px",borderRadius:"0"},onClick:function(){return m.signOut()},children:"Sign Out"})})};var x=function(){var e=Object(i.useRef)(null),t=Object(i.useState)([]),n=Object(a.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){O.collection("messages").orderBy("createdAt").limit(50).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));console.log(t),r(t)}))}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(b,{}),Object(f.jsx)("div",{className:"msgs",children:c.map((function(e){var t,n=e.id,i=e.text,c=e.photoURL,r=e.uid;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"msg ".concat(r===(null===(t=m.currentUser)||void 0===t?void 0:t.uid)?"sent":"received"),children:[Object(f.jsx)("img",{src:c,alt:""}),Object(f.jsx)("p",{children:i})]},n)})}))}),Object(f.jsx)(h,{scroll:e}),Object(f.jsx)("div",{ref:e})]})};var v=function(){return Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:Object(f.jsx)(p.a,{style:{padding:"30px",fontSize:"20px",borderRadius:"0"},onClick:function(){var e=new l.a.auth.GoogleAuthProvider;m.signInWithPopup(e)},children:"Sign In With Google"})})},g=n(40),O=l.a.initializeApp({apiKey:"AIzaSyD32fBl_RMDgVTNqDTRyHG9GAJ6OnpwfFM",authDomain:"firechat-c3132.firebaseapp.com",projectId:"firechat-c3132",storageBucket:"firechat-c3132.appspot.com",messagingSenderId:"441203274389",appId:"1:441203274389:web:54dd1c849ecff481d2619c",measurementId:"G-D6S6PDDW2B"}).firestore(),m=l.a.auth();var y=function(){var e=Object(g.a)(m),t=Object(a.a)(e,1)[0];return Object(f.jsx)("div",{children:t?Object(f.jsx)(x,{}):Object(f.jsx)(v,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),S()}},[[60,1,2]]]);
//# sourceMappingURL=main.3ccbf570.chunk.js.map