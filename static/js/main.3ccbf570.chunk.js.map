{"version":3,"sources":["components/SendMessage.tsx","components/SignOut.tsx","components/Chat.tsx","components/SignIn.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SendMessage","scroll","useState","msg","setMsg","e","a","preventDefault","uid","auth","currentUser","photoURL","console","log","db","collection","add","text","createdAt","firebase","firestore","FieldValue","serverTimestamp","current","scrollIntoView","behavior","onSubmit","className","Input","style","width","fontSize","marginLeft","marginBottom","placeholder","type","value","onChange","target","Button","margin","maxWidth","SignOut","display","justifyContent","position","backgroundColor","top","borderBottom","padding","borderRadius","onClick","signOut","Chat","useRef","messages","setMessages","useEffect","orderBy","limit","onSnapshot","snapshot","data","docs","map","doc","id","src","alt","ref","SignIn","height","alignItems","provider","GoogleAuthProvider","signInWithPopup","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","useAuthState","user","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ccbf570.chunk.js","sourcesContent":["import React, { useState, FormEvent } from 'react'\r\nimport { db, auth } from '../App'\r\nimport firebase from 'firebase'\r\nimport { Input, Button } from '@material-ui/core'\r\n\r\ntype PropsType = {\r\n    scroll: any\r\n}\r\n\r\nconst SendMessage: React.FC<PropsType> = ({ scroll }) =>  {\r\n    const [msg, setMsg] = useState('')\r\n\r\n    async function sendMessage(e: FormEvent<HTMLFormElement>) {\r\n        e.preventDefault()\r\n        const uid = auth.currentUser?.uid\r\n        const photoURL = auth.currentUser?.photoURL\r\n                console.log(auth)\r\n        await db.collection('messages').add({\r\n            text: msg,\r\n            photoURL,\r\n            uid,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n\r\n        setMsg('')\r\n        scroll.current.scrollIntoView({ behavior: 'smooth' })\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={sendMessage}>\r\n                <div className=\"sendMsg\">\r\n                    <Input\r\n                        style={{ width: '78%', fontSize: '15px', \r\n                        // fontWeight: '550', \r\n                        marginLeft: '5px', marginBottom: '-3px' }}\r\n                        placeholder='Message...'\r\n                        type=\"text\"\r\n                        value={msg}\r\n                        onChange={e => setMsg(e.target.value)} />\r\n                    <Button\r\n                        style={{ width: '18%', fontSize: '15px', \r\n                        // fontWeight: '550', \r\n                        margin: '4px 5% -13px 5%', maxWidth: '200px' }}\r\n                        type=\"submit\">Send</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendMessage","import React from 'react'\r\nimport { auth } from '../App'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction SignOut() {\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            position: 'fixed', width: '100%',\r\n            backgroundColor: '#FAFAFA', top: 0,\r\n            borderBottom: 'solid 1px lightgray', \r\n            // zIndex: '10'\r\n        }}>\r\n            <Button style={{\r\n                padding: '20px',\r\n                fontSize: '15px',\r\n                borderRadius: '0',\r\n                // fontWeight: '600'\r\n            }}\r\n                onClick={() => auth.signOut()}>Sign Out</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignOut","import React, { useState, useEffect, useRef } from 'react'\r\nimport { db, auth } from '../App'\r\nimport SendMessage from './SendMessage'\r\nimport SignOut from './SignOut'\r\n\r\nfunction Chat() {\r\n    const scroll = useRef(null)\r\n    const [messages, setMessages] = useState<any[]>([])\r\n    useEffect(() => {\r\n        db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(snapshot => {\r\n            const data = snapshot.docs.map(doc => doc.data())\r\n            console.log(data)\r\n            setMessages(data)\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <SignOut />\r\n            <div className=\"msgs\">\r\n                {messages.map(({ id, text, photoURL, uid }) => (\r\n                    <div>\r\n                        <div key={id} className={`msg ${uid === auth.currentUser?.uid ? 'sent' : 'received'}`}>\r\n                            <img src={photoURL} alt=\"\" />\r\n                            <p>{text}</p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <SendMessage scroll={scroll} />\r\n            <div ref={scroll}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import React from 'react'\r\nimport firebase from 'firebase'\r\nimport { auth } from '../App'\r\nimport { Button } from '@material-ui/core'\r\n\r\n\r\nfunction SignIn() {\r\n    function signInWithGoogle() {\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        auth.signInWithPopup(provider)\r\n    }\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            height: '100vh',\r\n            alignItems: 'center'\r\n        }}>\r\n            <Button style={{\r\n                padding: '30px',\r\n                fontSize: '20px',\r\n                borderRadius: '0',\r\n                // fontWeight: '600',\r\n            }}\r\n                onClick={signInWithGoogle}>Sign In With Google</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn","import './App.css';\nimport Chat from './components/Chat';\nimport SignIn from './components/SignIn';\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport firebase from 'firebase'\n\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: \"AIzaSyD32fBl_RMDgVTNqDTRyHG9GAJ6OnpwfFM\",\n  authDomain: \"firechat-c3132.firebaseapp.com\",\n  projectId: \"firechat-c3132\",\n  storageBucket: \"firechat-c3132.appspot.com\",\n  messagingSenderId: \"441203274389\",\n  appId: \"1:441203274389:web:54dd1c849ecff481d2619c\",\n  measurementId: \"G-D6S6PDDW2B\"\n})\n\nconst db = firebaseApp.firestore()\n\nconst auth = firebase.auth()\n\nexport { db, auth } \n\nfunction App() {\n  const [user] = useAuthState(auth)\n  return (\n    <div>\n           {user ? <Chat /> : <SignIn />}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}